source:
  format: "xml"
  schema: "urn:isbn:1-931666-33-4"
entities:
  agent_person: 
    xpath: ["//xmlns:cpfDescription[child::xmlns:identity/child::xmlns:entityType='person']"]
    properties:
      agent_type: 
        default: agent_person
      
      names:
        xpath: ["descendant::xmlns:nameEntry"]
        record_type: name_person # TODO: See if this can be safely eliminated
        
      notes:
        xpath: ["descendant::xmlns:biogHist"]
        record_type: note_bioghist  

  note_bioghist:
    properties:
      label: 
        default: "default"
    
      content:
        xpath: ["self::xmlns:biogHist"]
   
  name_person:
    properties:
      primary_name: 
        xpath: ["descendant::xmlns:part/text()"]

      name_order:
        default: "inverted"

      source:
        default: local
        
      dates:
        xpath: ["descendant::xmlns:part"]
        procedure: "|val| val.scan(/[0-9]{4}-[0-9]{4}/).flatten[0]"

  # event:
    
        
  # record_pair:
  #   record_types: ['event', 'agent']

